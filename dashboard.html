<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="css/global.css" />
    <link rel="stylesheet" href="css/accueil.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
  </head>
  <body>
    <header>
      <div class="navbar_container">
        <div class="navbar-logo">
          <img class="logo" src="public/img/logo.png" />
          <div class="text-wrapper">EcoSwing</div>
        </div>
        <ul class="navbar">
            <ul class="navbar">
                <a href="index.html"><li class="text-wrapper-3">Home</li></a>
                <a href="project.html"><li class="text-wrapper-3">Project</li></a>
                <a href="news.html"><li class="text-wrapper-3">News</li></a>
                <a href="dashboard.html"><li class="text-wrapper-2">Dashboard</li></a>
                <li class="div-wrapper">
                    <div class="btn-primary">Contact</div>
                </li>
            
        </ul>
      </div>
    </header>

    <main>

      <div class="profile_container">

      
  
      </div>
    </main>

    <footer>
      <div class="footer-content">
        <p>&copy; 2024 EcoSwing. All Rights Reserved.</p>
        <a href="#">Privacy Policy</a>
        <a href="#">Terms of Service</a>
      </div>
    </footer>
  </body>
  <script>
    fetch("/dashboard/getprofile")
  .then((response) => {
    if (!response.ok) {
      throw new Error("Network response was not ok");
    }
    return response.json();
  })
  .then((data) => {
    console.log(data);
    try {
      let profile_container = document.querySelector(".profile_container");

      profile_container.innerHTML += `
            <div>
                <h1>Dashboard</h1>
            </div>
            <h3>
                Bienvenue sur votre dashboard EcoSwing, ${data.name} !
            </h3>
            <p>Vous avez actuellement ${data.gift} points</p>
            <p>Prochain tirage dans ${data.lastGift}</p>
            <a href="/gift/addgift">Tirer votre point</a>
            <div> Vous pouvez obtenir des réductions à partir de 20 points</div>
        `;
    } catch (error) {
      console.error('Error displaying profile:', error);
    }
  })
  .catch((error) => {
    console.error('Error fetching profile:', error);
  });

  </script> 
  <script src="js/script.js"></script>
</html>
